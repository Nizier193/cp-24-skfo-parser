url: https://www.rustore.ru/help/sdk/payments/kotlin-java/history
title: Платежи in-app и подписки Kotlin/Java История обновлений

[

  * [](/help/)
  * [Платежи in-app и подписки](/help/sdk/payments)
  * [Kotlin/Java](/help/sdk/payments/kotlin-java)
  * История обновлений

Содержание этой страницы

# История обновлений

## Версия SDK 6.0.0​

  * Добавлена возможность принимать платежи без установки RuStore на устройстве пользователя.
  * Добавлено поле `sandbox` у моделей результата покупки `PaymentResult`
  * Убрано поле `description` у модели `Purchase`.

## Версия SDK 5.1.1​

Внутреннее обновление SDK.

## Версия SDK 5.0.1​

Внутреннее обновление SDK.

## Версия SDK 5.0.0​

Добавлен новый статус покупок `PAUSED` для подписок Внутреннее обновление SDK.

## Версия SDK 4.0.0​

Внутреннее обновление SDK.

## Версия SDK 3.2.0​

Внутреннее обновление SDK.

## Версия SDK 3.1.0​

  * Добавлена функциональность тестирования платежей (sandbox).
  * Внутреннее обновление SDK.

## Версия SDK 3.0.0​

  * Обновлена функциональность по новой цветовой гамме тёмной темы.
  * Багфиксы.

## Версия SDK 2.2.0​

  * Добавлена функциональность динамической смены темы (светлая и тёмная).
  * Произведены работы по стабилизации работы библиотеки.
  * Исправлена проблема с восстановлением состояния после оплаты по deeplink.

## Версия SDK 2.1.2​

Исправлены ошибки при отсутствии приложения RuStore на устройстве.

## Версия SDK 2.1.1​

Обновления безопасности.

## Версия SDK 2.1.0​

  * Изменены модели ответов:

    * получения списка продуктов;
    * получения списка покупок;
    * покупки товара;
    * потребления покупки;
    * отмены покупки.
  * Доработан внешний вид диалога оплаты.

## Версия SDK 1.1.1​

Исправлена работа метода `await()` для Task API.

## Версия SDK 1.1.0​

  * Оплата с помощью TinkoffPay.
  * Возможность сохранения карты при оплате.
  * Доработан внешний вид и поведение диалога оплаты.
  * Убраны лишние зависимости и user permissions.
  * Модель `PurchaseResult` дополнена новым полем идентификатора счёта `invoiceId`.

## Версия SDK 1.0.0​

  * Переход от синглтона на создание инстанса: `RuStoreBillingClient.init()` заменен на `RuStoreBillingClientFactory.create()`.
  * Методы работы с синглтоном (`init`, `products`, `purchases`, `getSingleton`) помечены как deprecated и будут удалены в следующих версиях.
  * Метод `checkPurchasesAvailability()` стал статичным — вы можете проверить доступность платежей без создания экземпляра `RuStoreBillingClient`.

## Версия SDK 0.1.8​

  * Добавлен метод `RuStoreBillingClient.purchases.getPurchaseInfo("purchaseId")`, возвращающий информацию о покупке.
  * Исправлена уязвимость `Intent Redirection vulnerability`, не позволяющая опубликовать приложение в Google Play.

## Версия SDK 0.1.7​

Внутреннее обновление SDK.

## Версия SDK 0.1.6​

Добавлено поле `subscriptionToken` в сущности `Purchase` для серверной
валидации покупки.

## Версия SDK 0.1.5​

  * Переход на сертификаты Минцифры.
  * Исправлено отображение кнопки оплаты через СБП при быстром переходе в оферту и обратно.
  * Поле `traceId: String` у интерфейса `ResponseWithCode` было заменено на поле `meta: RequestMeta`, содержащее внутри `traceId`.

## Версия SDK 0.1.4​

  * Добавлены ссылки на оферту для СБП и оплаты со счеты мобильного телефона.
  * Добавлен дополнительный дисклеймер для пользователя, если подтверждение оплаты занимает больше 15 секунд.
  * Исправлены ошибки при работе с OTP-кодами и отправкой СМС.
  * Исправлена генерация поля `orderId` для счета на стороне RuStore, если `orderId` передается в `purchaseProduct()` как `null`.
  * Добавлено отображение блокирующей ошибки, если приложение банка не поддерживает deeplink СБП.
  * Добавлен `PurchaseResult.subscriptionToken`, позволяющий произвести валидацию покупки на сервере.

## Версия SDK 0.1.3​

  * Добавлена оплата по номеру телефона в `purchaseProduct()`.
  * В инициализации параметр `externalPaymentLogger` был заменен на `externalPayemtnLoggerFactory` — это фабрика, в которой необходимо создать реализацию `ExternalPaymentLogger`.

## Версия SDK 0.1.2​

  * Добавлена система быстрых платежей (СБП).
  * Добавлен параметр deeplinkSсheme в методе `init`.
  * Удалён параметр `deeplinkPrefix` в методе `init`.
  * Исправлена ошибка потери данных в форме ввода данных карты после сворачивания приложения.

## Версия SDK 0.1.1​

  * Удалён параметр `language` у методов:

    * получение списка продуктов — `getProducts`;
    * получение списка покупок — `getPurchases`;
    * потребление продукта — `confirmPurchase`;
    * отмена покупки — `deletePurchase`.
  * Добавлено поле `RuStoreBillingClient.isInitialized`, возвращающее статус инициализации библиотеки.

## Версия SDK 0.1.0​

  * Изменились параметры в init.

  * Добавлена проверка доступности работы с платежами — метод checkPurchasesAvailability.

  * Во всех методах параметр language стал необязательным.

  * Методы Suspend заменены на task API в методах:

    * получение списка продуктов — `getProducts`;
    * получение списка покупок — `getPurchases`;
    * покупка продукта — `purchaseProduct`;
    * потребление продукта — `confirmPurchase`;.
    * отмена покупки — `deletePurchase`.
  * В методе покупки продукта `purchaseProduct` удалён параметр `context`.

  * Удалён метод `resultObserver`, теперь результат покупки возвращается `purchaseProduct`.

  * В методе `resolveForBilling` удалён параметр `onFail`.

## Версия SDK 0.0.9​

Добавлены необязательные параметры `ExternalPaymentLogger` и `debugLogs` в
функцию инициализации `init`.

]

