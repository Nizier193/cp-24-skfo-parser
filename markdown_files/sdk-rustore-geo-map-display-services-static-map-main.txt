url: https://www.rustore.ru/help/sdk/rustore-geo/map-display-services/static-map/main
title: Карты и геосервисы Сервисы отображения карт Статичная карта Сервис получения карты

[

  * [](/help/)
  * [Карты и геосервисы](/help/sdk/rustore-geo)
  * [Сервисы отображения карт](/help/sdk/rustore-geo/map-display-services/)
  * [Статичная карта](/help/sdk/rustore-geo/map-display-services/static-map)
  * Сервис получения карты

Содержание этой страницы

# Сервис получения карты

`/staticmap/png` — сервис, позволяющий получить изображение карты.

## Запрос​

### Обязательные параметры запроса​

Имя поля| Формат| Описание| Пример  
---|---|---|---  
`api_key`| hex-string| [Доступ к сервисам](/help/sdk/rustore-
geo/general/access-services)| `fa749bace6d8a3b1....`  
`latlon`| float,float| Широта и долгота (в градусах) геометрического центра
требуемого изображения карты.Широта и долгота указывается через запятую.к
сведениюПри указании `bbox` в запросе значения указанные в `latlon`
игнорируются| `latlon=55.727,37.59`  
`bbox`| float,float,float,float| Область местонахождения объекта, которая
описывается парой координат в порядке: `lat1`,`lon1`,`lat2`,`lon2`.Широта и
долгота координат указывается через запятую.Координаты разделяются запятой.|
`bbox=55.7,37.65,55.8,37.66`  
  
### Дополнительные параметры запроса​

Имя поля| Формат| Описание| Пример  
---|---|---|---  
`zoom`| integer| Уровень масштабирования в диапазоне от `0` до `17`, где:• `0`
(по умолчанию) — соответствует уровню обзора мира;• `17` — соответствует
уровню обзора здания.| `zoom=13`  
`width`| integer| Ширина изображения карты.Значение может находиться в
диапазоне от 32 до 1024 пикселей (по умолчанию 512).| `width=640`  
`height`| integer| Высота изображения карты.Значение может находиться в
диапазоне от 32 до 1024 пикселей (по умолчанию 512)| `height=480`  
`pins`| string| Параметры, которые определяют расположение и тип булавок,
добавляемых на карту.Параметры должны передаваться в формате:
`lat1,lon1,icon1|lat2,lon2,icon2|...`, где:• `lat1...latN` — широта
расположения булавки в градусах;• `lon1...lonN` — долгота расположения булавки
в градусах;• `icon1...iconN` — формат булавки.Форматы доступных булавок
представлены в [коллекции булавок](/help/sdk/rustore-geo/map-display-
services/static-map/collection-of-pins).|
`pins=55.7505,37.6165,blue_star|60.6543,38.1255,red_camera`  
`style`| string| Параметр выбора [стиля](/help/sdk/rustore-geo/map-display-
services/map-styles) отображения карты.По умолчанию используется стиль:
`main`.| `style=light`  
`padding`| integer| Параметр смещения атрибутов карты. Смещение определяется в
пикселях и равно расстоянию от правого края надписи до правого края
атрибутов.Ограничения: значение может находиться в диапазоне от 5 до width/2
пикселей (по умолчанию 5).| `padding=40`  
`scale`| integer| Параметр масштабирования изображения. Возможны значения 1
или 2 (по умолчанию 1).  
Если scale=2, то размеры итогового изображения будут в 2 раза больше за счёт
большей плотности пикселей. Например, при запросе
`width=200&height=200&scale=2` результирующее изображение будет размером
400x400 пикселей, но выглядеть будет, как при запросе `width=200&height=200`,
а не `width=400&height=400`:  
![](https://www.rustore.ru//help/assets/images/af764c3d98dc00bf8fea3573158a25ce-
dc65f501f2509ca8fc490d3084977edb.webp)  
`width=200&height=200`  
![](https://www.rustore.ru//help/assets/images/3561dccd14312b5eb1a60e9127fd8587-62e2543c5d1898aea94039daba985f37.webp)  
`width=200&height=200&scale=2`  
![](https://www.rustore.ru//help/assets/images/05c50756881042ec22c95fb04571a252-956c81e3b3da8df8b85771a17e4bb324.webp)  
`width=400&height=400`| `scale= 2`  
  
## Запрос (POST)​

### Обязательные параметры запроса (GET)​

Имя поля| Формат| Описание| Пример  
---|---|---|---  
`api_key`| hex-string| [Доступ к сервисам](/help/sdk/rustore-
geo/general/access-services)| `| fa749bace6d8a3b1....`  
  
### Обязательные параметры запроса (POST)​

Параметры принимаются в теле запроса в составе JSON-объекта.

Имя поля| Формат| Описание| Пример  
---|---|---|---  
`coord`| `coord` — JSON-объект с `float`-полями `lat` и `lon`| Широта и
долгота (в градусах) геометрического центра требуемого изображения карты.к
сведениюПри указании `bbox` в запросе значения, указанные в `coord`,
игнорируются.|

    
    
    {   
     "lat": 55.727,   
     "lon": 37.59   
    }  
      
  
`bbox`| JSON-массив из 2 элементов| Область местонахождения объекта, которая
описывается парой координат.|

    
    
    "bbox": [   
    {   
    "lat": 55.71 ,   
    "lon": 37.65   
    },   
    {   
    "lat": 55.8 ,   
    "lon": 37.6535   
    }   
    ]  
      
  
### Дополнительные параметры запроса​

Имя поля| Формат| Описание| Пример  
---|---|---|---  
`zoom`| integer| Уровень масштабирования в диапазоне от 0 до 17, где:• `0` (по
умолчанию) — соответствует уровню обзора мира;• `17` — соответствует уровню
обзора здания.| `"zoom": 13`  
`width`| integer| Ширина изображения карты.Значение может находиться в
диапазоне от 32 до 1024 пикселей (по умолчанию 512).| `"width": 640`  
` height`| integer| Высота изображения карты.Значение может находиться в
диапазоне от 32 до 1024 пикселей (по умолчанию 512).| `"height": 480`  
`pins`| JSON-массив объектов| Описание булавок, добавляемых на карту.|

    
    
    "pins": [   
    {   
    "coord": {   
    "lat": 55.73 ,   
    "lon": 37.59   
    },   
    "icon": {   
    "symbol": "rustore-corp_photo"   
    }   
    },   
    {   
    "coord": {   
    "lat": 55.76 ,   
    "lon": 37.59   
    },   
    "icon": {   
    "base64": "iVBORw0KGgoA" ...   
    }   
    },   
    {   
    "coord": {   
    "lat": 55.745 ,   
    "lon": 37.67   
    },   
    "icon": {   
    "url": "https://geo.rustore.ru/welcome/static-map-logo-50x50.png"   
    }   
    }   
    ]  
      
  
`coord`| JSON-массив| Определяет расположение булавок добавляемых на карту.  
`icon`| JSON массив| Описание визуального представления булавок добавляемых на
карту.  
`symbol`| string| Поле `symbol` содержит формат визуального представления
булавки.Форматы доступных булавок представлены в [коллекции
булавок](/help/sdk/rustore-geo/map-display-services/static-map/collection-of-
pins)  
`base64`| string| Изображение булавки в формате PNG в base64-закодированном
виде (не больше 250 тысяч символов).  
`url`| string| URL-адрес изображения PNG. Длина URL не должна превышать 1000
символов, размер изображения не должен превышать 512 КБ. Поддерживается только
транспорт HTTPS, передача без сжатия и редиректов.  
`features`| GeoJSON объект| GeoJSON, описывающий геометрию для отображения на
верхнем слое карты.  
Свойство properties является опциональным.|

    
    
    "features": {   
    "type": "FeatureCollection" ,   
    "features": [  
    {   
    "type": "Feature" ,   
    "geometry": {   
    "type": "Point" ,   
    "coordinates": [37.6165 , 55.7505]   
    },   
    "properties": {   
    "title": "points"   
    }   
    },   
    {   
    "type": "Feature" ,   
    "geometry": {   
    "type": "LineString" ,   
    "coordinates": [  
    [37.6163 , 55.7503], [37.6164 , 55.7504], [37.6165 , 55.7505], [37.6166 , 55.7506]   
    ]   
    },   
    "properties": {   
    "title": "line"   
    }   
    },   
    {   
    "type": "Feature" ,   
    "geometry": {   
    "type": "Polygon" ,   
    "coordinates": [  
    [[37.6395 , 55.73], [37.6066 , 55.73], [37.6066 , 55.751], [37.6395 , 55.751], [37.6395 , 55.73]],   
    [[37.6345 , 55.735], [37.6345 , 55.746], [37.6116 , 55.746], [37.6116 , 55.735], [37.6345 , 55.735]]   
    ]   
    },   
    "properties": {   
    "title": "polygon"   
    }   
    }   
    ]   
    }  
      
  
`features-style`| JSON-объект| Настройка визуального отображения GeoJSON,
переданного в `features`.Отображение точек, линий и многоугольников
настраивается отдельно:• `point` — настройки точек: точки отображаются в виде
кругов. • `circle-color` — цвет круга • `circle-opacity` — прозрачность круга
• `circle-radius` — радиус круга в пикселях • `line` — настройки линий •
`line-width` — толщина линии в пикселях • `line-color` — цвет линии • `line-
opacity` — прозрачность линии • `polygon` — настройки многоугольников • `fill-
color` — цвет заливки • `fill-opacity` — прозрачность заливки|

    
    
    "features-style": {   
    "point": {   
    "circle-color": "#ffffff" ,   
    "circle-opacity": 0.8 ,   
    "circle-radius": 4.0   
    },   
    "line": {   
    "line-color": "#2688eb" ,   
    "line-width": 2.0   
    },   
    "polygon": {   
    "fill-color": "#2688eb" ,   
    "fill-opacity": 0.5   
    }   
    }  
      
  
`style`| string| Параметр выбора [стиля](/help/sdk/rustore-geo/map-display-
services/map-styles) отображения карты.По умолчанию используется стиль
`main`.| `"style": "light"`  
`padding`| integer| Параметр смещения атрибутов карты. Смещение определяется в
пикселях и равно расстоянию от правого края надписи до правого края
атрибутов.Ограничения: значение может находиться в диапазоне от 5 до width/2
пикселей (по умолчанию 5).| `"padding": 40`  
`scale`| integer| Параметр масштабирования изображения. Возможны значения 1
или 2 (по умолчанию 1).| "scale": 2  
  
## Ответ​

В ответ вы получите изображение части карты, соответствующей параметрам,
указанным в запросе.

## Пример​

### Запрос (GET)​

    
    
    https://geo.rustore.ru/api/staticmap/png?api_key=<YOUR_API_KEY>&latlon=55.727,37.59&style=main&zoom=10&width=1024&height=512&padding=5&pins=55.73,37.59,rustore-corp_photo|55.76,37.59,green_star|55.745,37.67,rustore-electric_a  
    

### Запрос (POST)​

    
    
    {  
    "width": 660,  
    "height": 600,  
    "bbox": [{   
    "lat": 55.71,  
    "lon": 37.65   
    }, {   
    "lat": 55.8,  
    "lon": 37.6535   
    }   
    ],   
    "padding": 200,  
    "scale": 1,  
    "features": {},   
    "coord": {   
    "lat": 55.7505,  
    "lon": 37.6165   
    },   
    "pins": [   
    {   
    "coord": {   
    "lat": 55.73,  
    "lon": 37.59   
    },   
    "icon": {   
    "symbol": "rustore-corp_photo"   
    }   
    },   
    {   
    "coord": {   
    "lat": 55.76,  
    "lon": 37.59   
    },   
    "icon": {   
    "symbol": "green_star"   
    }   
    },   
    {   
    "coord": {   
    "lat": 55.745,  
    "lon": 37.67   
    },   
    "icon": {   
    "symbol": "rustore-electric_a"   
    }   
    }   
    ],   
    "zoom": 11,  
    "style": "main"   
    }  
    

## Ответ​

![](https://www.rustore.ru//help/assets/images/980921049a847b90819a587849eca477-865f424ea91d90f00f4007b682b4c176.webp)

]

